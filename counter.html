<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <section class="statistics_parent py-5">
        <div class="container custom_container py-lg-4 mt-lg-3 my-sm-2 my-3 px-4">
            <div class="d-flex align-items-center justify-content-between gap-5 flex-column flex-lg-row">
                <h2 class="fw-bold fs_4xl text-white statistics_heading text-center text-lg-start mb-0 leading_125">
                    Statistics For Today
                </h2>
                <div class="row w-100 justify-content-center">
                    <div class="col-12 col-sm-6 col-md-4" data-aos="fade-left" data-aos-delay="100">
                        <div
                            class="statistics_cards_parent mx-auto h-100 bg-white p-3 p-lg-4 d-flex align-items-center flex-column justify-content-center">
                            <p id="placesLeftCounter"
                                class="fw-bold counter fs_custom_4xl leading_140 text-center mb-2">
                                03
                            </p>
                            <p class="fw-semibold fs_lg text-center mb-0 leading_normal">
                                Places left to register
                            </p>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 mt-4 mt-sm-0" data-aos="fade-left" data-aos-delay="300">
                        <div
                            class="statistics_cards_parent mx-auto h-100 bg-white p-3 p-lg-4 d-flex align-items-center flex-column justify-content-center">
                            <p id="registrationsPerDayCounter"
                                class="fw-bold counter fs_custom_4xl leading_140 text-center mb-2">
                                135
                            </p>
                            <p class="fw-semibold fs_lg text-center mb-0 leading_normal">
                                Average Registrations per day
                            </p>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6 col-md-4 mt-4 mt-md-0" data-aos="fade-left" data-aos-delay="500">
                        <div
                            class="statistics_cards_parent mx-auto h-100 bg-white p-3 p-lg-4 d-flex align-items-center flex-column justify-content-center">
                            <p id="earningsIncreaseCounter" class="fs_custom_4xl fw-bold leading_140 text-center mb-2">
                                <span class="counter">5</span>X
                            </p>
                            <p class="fw-semibold fs_lg text-center mb-0 leading_normal">
                                The Average Earnings Increase
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // STATISTICS COUNTER
        const options = {
            threshold: 0.2, // Trigger when 20% of the element is visible
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    // Start counter animation
                    const target = entry.target.querySelector(".counter");
                    const countTo = parseInt(target.innerText);

                    if (target.id === "placesLeftCounter") {
                        // For placesLeftCounter, count down
                        let currentCount = 10;

                        const counter = setInterval(() => {
                            if (currentCount >= countTo) {
                                target.innerText = currentCount--;
                            } else {
                                clearInterval(counter);
                            }
                        }, 300); // Adjust speed here
                    } else {
                        // For registrationsPerDayCounter and earningsIncreaseCounter, count up
                        let currentCount = countTo - 5;

                        const counter = setInterval(() => {
                            if (currentCount <= countTo) {
                                target.innerText = currentCount++;
                            } else {
                                clearInterval(counter);
                            }
                        }, 300); // Adjust speed here
                    }
                }
            });
        }, options);

        // Observe each statistic card
        document.querySelectorAll(".statistics_cards_parent").forEach((card) => {
            observer.observe(card);
        });
    </script>
</body>

</html>